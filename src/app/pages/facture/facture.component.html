
  <h2 class="mb-4">Mes Factures</h2>

  <div *ngFor="let facture of factures" class="card mb-3 p-3 shadow-sm border rounded">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h5 class="mb-0">ğŸ“„ Facture nÂ° {{ facture.id }}</h5>
      <span class="badge bg-success" *ngIf="facture.paid">PayÃ©e</span>
      <span class="badge bg-warning text-dark" *ngIf="!facture.paid">Non payÃ©e</span>
    </div>

    <p class="mb-1">
      <strong>PÃ©riode :</strong>
      {{ facture.periode_de | date:'yyyy-MM-dd' }} au {{ facture.periode_a | date:'yyyy-MM-dd' }}
    </p>

    <p class="mb-1">
      <strong>Montant :</strong> {{ facture.montant }} DT
    </p>

    <p class="mb-2">
      <strong>Date de crÃ©ation :</strong> {{ facture.created_at | date:'mediumDate' }}
    </p>

    <!-- Stripe Card Element -->
    <div id="card-element-{{ facture.id }}" class="my-2"></div>

    <button
      class="btn btn-primary w-100"
      (click)="payer(facture.id)"
      [disabled]="facture.paid">
      {{ facture.paid ? 'âœ… DÃ©jÃ  payÃ©e' : 'ğŸ’³ Payer maintenant' }}
    </button>
  </div>


