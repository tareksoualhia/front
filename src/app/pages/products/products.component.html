<div class="container mt-4">
 
  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let product of products">
      <div class="card h-100 shadow-sm border-0">
        <img *ngIf="product.image"
             [src]="product.image"
             class="card-img-top"
             alt="{{ product.name }}"
             style="max-height: 200px; object-fit: contain;" />

        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-primary">{{ product.name }}</h5>
          <p class="card-text text-muted">{{ product.description }}</p>

          <div class="mt-auto">
            <p><strong>Prix:</strong> {{ product.price }} TND</p>
            <p>
              <strong>Stock:</strong>
              <span [ngClass]="{
                'badge bg-success': product.stock > 5,
                'badge bg-warning text-dark': product.stock > 0 && product.stock <= 5,
                'badge bg-danger': product.stock === 0
              }">
                {{ product.stock > 0 ? product.stock + ' disponibles' : 'Rupture de stock' }}
              </span>
            </p>
          </div>
        </div>

        <div class="card-footer bg-white border-0">
          <button class="btn btn-success w-100"
                  [disabled]="product.stock === 0"
                  (click)="addToCart(product)">
            ðŸ›’ Ajouter au panier
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
